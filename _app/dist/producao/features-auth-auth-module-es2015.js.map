{"version":3,"sources":["./src/app/features/auth/auth.component.html","./src/app/features/auth/auth.component.css","./src/app/features/auth/auth.component.ts","./src/app/features/auth/auth.module.ts"],"names":[],"mappings":"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","file":"features-auth-auth-module-es2015.js","sourcesContent":["export default \"<section>\\r\\n    <div class=\\\"container\\\">\\r\\n        <div class=\\\"row justify-content-center\\\">\\r\\n            <div class=\\\"col-sm-8 col-lg-5 p-4 panel\\\">\\r\\n                <header class=\\\"text-center mb-4\\\">\\r\\n                    <h2 class=\\\"h2 g-color-black g-font-weight-600\\\">\\r\\n                        <i class=\\\"fal fa-lock-alt\\\"></i>&nbsp;&nbsp;Área Restrita\\r\\n                    </h2>\\r\\n                </header>\\r\\n                <div *ngIf=\\\"showMessageError\\\" >\\r\\n                    <alert-error [(show)]=\\\"showMessageError\\\">Credenciais Inválidas</alert-error>\\r\\n                </div>\\r\\n                <alert-error [(show)]=\\\"btnReenvio\\\">\\r\\n                    Reenvie o e-mail para confirmação\\r\\n                </alert-error>\\r\\n                <div *ngIf=\\\"btnReenvio\\\" class=\\\"mb-4 d-flex justify-content-center\\\">\\r\\n\\r\\n                    <button type=\\\"button\\\"\\r\\n                            (click)=\\\"ReenviarConfirmacao()\\\"\\r\\n                            class=\\\"btn btn-lg btn-danger\\\" >\\r\\n                        <i class=\\\"fal fa-envelope\\\"></i>&nbsp;Reenviar\\r\\n                    </button>\\r\\n                </div>\\r\\n                <form class=\\\"form-signin form-validate g-py-15\\\" (submit)=\\\"submit()\\\">\\r\\n                    <div [formGroup]=\\\"form\\\" class=\\\"mb-4\\\">\\r\\n                        <label [for]=\\\"'email'\\\"\\r\\n                               class=\\\"g-color-gray-dark-v2 g-font-weight-600 g-font-size-13\\\">\\r\\n                            Email:\\r\\n                        </label>\\r\\n                        <input [id]=\\\"'email'\\\"\\r\\n                               type=\\\"email\\\"\\r\\n                               formControlName=\\\"email\\\"\\r\\n                               class=\\\"form-control g-color-black g-bg-white g-bg-white--focus g-brd-gray-light-v4 g-brd-primary--hover rounded g-py-15 g-px-15\\\"\\r\\n                               placeholder=\\\"Digite o e-mail\\\" autofocus>\\r\\n                        <field-error [field]=\\\"form.get('email')\\\"\\r\\n                                     [label]=\\\"'E-mail'\\\"\\r\\n                                     [messages]=\\\"[]\\\"></field-error>\\r\\n                    </div>\\r\\n                    <div [formGroup]=\\\"form\\\" class=\\\"g-mb-35\\\">\\r\\n                        <label [for]=\\\"'senha'\\\"\\r\\n                               class=\\\"g-color-gray-dark-v2 g-font-weight-600 g-font-size-13\\\">\\r\\n                            Password:\\r\\n                        </label>\\r\\n                        <input [id]=\\\"'senha'\\\"\\r\\n                               type=\\\"password\\\"\\r\\n                               formControlName=\\\"senha\\\"\\r\\n                               class=\\\"form-control g-color-black g-bg-white g-bg-white--focus g-brd-gray-light-v4 g-brd-primary--hover rounded g-py-15 g-px-15\\\"\\r\\n                               placeholder=\\\"Digite a Senha\\\" autofocus>\\r\\n                        <field-error [field]=\\\"form.get('senha')\\\"\\r\\n                                     [label]=\\\"'Senha'\\\"\\r\\n                                     [messages]=\\\"[]\\\"></field-error>\\r\\n\\r\\n                        <div class=\\\"row justify-content-between\\\">\\r\\n                            <div class=\\\"col align-self-center\\\">\\r\\n\\r\\n                            </div>\\r\\n                            <div class=\\\"col align-self-center text-right\\\">\\r\\n                                <a [routerLink]=\\\"['/forgot']\\\" class=\\\"g-font-size-12\\\">\\r\\n                                    Esqueceu a senha?\\r\\n                                </a>\\r\\n                            </div>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                    <div class=\\\"mb-4 mt-4 d-flex justify-content-center\\\">\\r\\n                        <button type=\\\"submit\\\"\\r\\n                                id=\\\"entrar\\\"\\r\\n                                [hidden]=\\\"!btnEntrar\\\"\\r\\n                                [disabled]=\\\"!form.valid\\\"\\r\\n                                class=\\\"btn btn-lg btn-primary waves-effect waves-themed\\\">\\r\\n                            Entrar\\r\\n                        </button>\\r\\n                        <button class=\\\"btn btn-lg btn-danger waves-effect waves-themed\\\"\\r\\n                                type=\\\"button\\\"\\r\\n                                [hidden]=\\\"btnEntrar\\\"\\r\\n                                disabled=\\\"\\\">\\r\\n                            <span class=\\\"spinner-grow spinner-grow-sm\\\"\\r\\n                                  role=\\\"status\\\"\\r\\n                                  aria-hidden=\\\"true\\\"></span>\\r\\n                            Aguarde...\\r\\n                        </button>\\r\\n                    </div>\\r\\n                </form>\\r\\n                <footer class=\\\"text-center\\\">\\r\\n                    <p class=\\\"g-color-gray-dark-v5 g-font-size-13 mb-0\\\">\\r\\n                        Ainda não está cadastrado?\\r\\n                        <a [routerLink]=\\\"['/register']\\\" class=\\\"g-font-weight-600\\\">\\r\\n                            Cadastre-se\\r\\n                        </a>\\r\\n                    </p>\\r\\n                </footer>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</section>\\r\\n\"","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2ZlYXR1cmVzL2F1dGgvYXV0aC5jb21wb25lbnQuY3NzIn0= */\"","import {\n  ChangeDetectorRef,\n  Component,\n  OnDestroy,\n  OnInit\n} from '@angular/core';\nimport { ActivatedRoute, Router } from \"@angular/router\";\nimport { AuthService } from \"../../services/auth.service\";\nimport { NotifyMessageService } from \"../../services/notify-message.service\";\nimport {\n  FormBuilder,\n  FormGroup,\n  Validators\n} from \"@angular/forms\";\nimport { UsuarioHttpService } from \"../../services/http/cadastro/usuario-http.service\";\nimport { Usuario } from \"../../model\";\nimport { ConfiguracaoHttpService } from \"../../services/http/configuracao/configuracao-http.service\";\n\n@Component({\n  selector: 'auth',\n  templateUrl: './auth.component.html',\n  styleUrls: ['./auth.component.css']\n})\nexport class AuthComponent implements OnInit,OnDestroy {\n  btnEntrar: boolean = true;\n  btnReenvio: boolean = false;\n\n  form: FormGroup;\n\n  usuario: Usuario | null;\n\n  showMessageError: boolean = false;\n\n  //Subscribes\n  subscribes: any;\n\n  constructor(private authService: AuthService,\n              private router: Router,\n              private route: ActivatedRoute,\n              private formBuilder: FormBuilder,\n              private changeRef: ChangeDetectorRef,\n              private notifyMessage: NotifyMessageService,\n              private usuarioHttp: UsuarioHttpService,\n              private configuracaoHttpService: ConfiguracaoHttpService) {\n\n    this.form = this.formBuilder.group({\n      email       :   [ 'admin@email.com' ,[ Validators.required,Validators.email ]],\n      senha       :   [ '123' ,[ Validators.required ]]\n    });\n  }\n\n  ngOnInit() {\n    this.usuario = this.authService.getUsuarioSession();\n    if(this.usuario)\n      this.router.navigateByUrl('/admin');\n\n\n    if (this.route.snapshot.queryParams.confirmado !== undefined && this.route.snapshot.queryParams.confirmado) {\n      this.notifyMessage.success(\"Você foi ativado com sucesso\",2000);\n      this.router.navigateByUrl('/auth');\n    }\n  }\n\n  ngOnDestroy() {\n  }\n\n  async submit()\n  {\n    this.btnEntrar = false;\n    this.authService.login(this.form.value).subscribe(async (response) => {\n      this.btnEntrar = true;\n      this.changeRef.detectChanges();\n\n      if(response.result){\n        this.authService.setUsuarioSession(response.usuario);\n        await  this.authService.setAdmin();\n\n        this.configuracaoHttpService.autoSet();\n\n        this.router.navigateByUrl('/admin');\n      }else{\n        this.notifyMessage.error(response.msg);\n        if(response.tipo){\n          this.btnReenvio = true;\n          this.changeRef.detectChanges();\n        }\n      }\n    },(error) => {\n      this.notifyMessage.error(\"Email ou senha incorreto!\");\n      this.btnEntrar = true;\n      this.changeRef.detectChanges();\n    });\n\n    return false;\n  }\n\n  ReenviarConfirmacao()\n  {\n    this.btnReenvio = false;\n\n    let subscribe = this.usuarioHttp.enviaConfirmacao(this.form.value).subscribe((response) => {\n      if(response.result){\n        this.notifyMessage.success('Acesse o email na caixa de entrada para ativar sua conta');\n      }else\n        this.notifyMessage.error('Houve um erro ao enviar o e-mail de confirmação, entre em contato com o administrador para solicitar a ativação');\n\n      this.btnReenvio = true;\n      this.changeRef.detectChanges();\n    },(error) => {\n      this.notifyMessage.error('Houve um erro ao enviar o e-mail de confirmação, entre em contato com o administrador para solicitar a ativação');\n      this.btnReenvio = true;\n      this.changeRef.detectChanges();\n    });\n\n    this.subscribes.push(subscribe);\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { RouterModule } from '@angular/router';\nimport { AuthComponent } from './auth.component';\nimport { BootstrapModule } from \"../../bootstrap/bootstrap.module\";\nimport { CommonModule } from \"@angular/common\";\nimport { FormsModule, ReactiveFormsModule } from \"@angular/forms\";\n\n@NgModule({\n  declarations: [AuthComponent],\n    imports: [\n        CommonModule,\n        FormsModule,\n        RouterModule.forChild([\n            {\n                path: '', component: AuthComponent,\n                data: {breadcrumbs: ['Dashboard', 'Auth']}\n            }\n        ]),\n        BootstrapModule,\n        ReactiveFormsModule\n    ]\n})\nexport class AuthModule { }\n"],"sourceRoot":"webpack:///"}